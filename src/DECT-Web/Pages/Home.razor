@page "/"
@using DECT_Web.Components
@using DECT_Web.Services
@inject MongoDbServices MongoDbService

@if (TransmitterIds?.Count > 0)
{
    @foreach (var id in TransmitterIds)
    {
        <DECTComponent TransmitterId="id"></DECTComponent>    
    }
}


@code {
    private List<int>? TransmitterIds { get; set; }
    
    protected override async Task OnInitializedAsync()
    {
        TransmitterIds = await MongoDbService.GetAllTransmittersAsync();
    }

}